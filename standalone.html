<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–≤—ñ—Ç—ñ–≤ –ø—Ä–æ –¥—Ä–æ–Ω–∏ (Standalone)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–≤—ñ—Ç—ñ–≤ –ø—Ä–æ –¥—Ä–æ–Ω–∏</h1>
            <p>–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤—ñ—Ç—É</p>
            <small style="opacity: 0.8;">Standalone –≤–µ—Ä—Å—ñ—è –∑ –≤–±—É–¥–æ–≤–∞–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏</small>
        </header>

        <form id="reportForm" class="report-form">
            <div class="form-group">
                <label for="subdivision">–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª:</label>
                <select id="subdivision" name="subdivision" required>
                    <option value="">–û–±–µ—Ä—ñ—Ç—å –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª...</option>
                    <option value="1-–π –±–∞—Ç–∞–ª—å–π–æ–Ω">1-–π –±–∞—Ç–∞–ª—å–π–æ–Ω</option>
                    <option value="2-–π –±–∞—Ç–∞–ª—å–π–æ–Ω">2-–π –±–∞—Ç–∞–ª—å–π–æ–Ω</option>
                    <option value="3-–π –±–∞—Ç–∞–ª—å–π–æ–Ω">3-–π –±–∞—Ç–∞–ª—å–π–æ–Ω</option>
                    <option value="–†–æ–∑–≤—ñ–¥—É–≤–∞–ª—å–Ω–∞ —Ä–æ—Ç–∞">–†–æ–∑–≤—ñ–¥—É–≤–∞–ª—å–Ω–∞ —Ä–æ—Ç–∞</option>
                    <option value="–®—Ç–∞–±–Ω–∞ —Ä–æ—Ç–∞">–®—Ç–∞–±–Ω–∞ —Ä–æ—Ç–∞</option>
                    <option value="–†–æ—Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è">–†–æ—Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è</option>
                </select>
            </div>

            <!-- –î—Ä–æ–Ω: —Ç—Ä–∏ –æ–∫—Ä–µ–º—ñ –ø–æ–ª—è -->
            <div class="form-group">
                <label for="droneName">–ù–∞–∑–≤–∞ –¥—Ä–æ–Ω—É:</label>
                <select id="droneName" name="droneName" required>
                    <option value="">–û–±–µ—Ä—ñ—Ç—å –Ω–∞–∑–≤—É –¥—Ä–æ–Ω—É...</option>
                    <option value="DJI Mavic 3">DJI Mavic 3</option>
                    <option value="DJI Air 2S">DJI Air 2S</option>
                    <option value="Autel EVO II">Autel EVO II</option>
                    <option value="DJI Mini 3 Pro">DJI Mini 3 Pro</option>
                    <option value="Skydio 2+">Skydio 2+</option>
                    <option value="DJI Phantom 4 Pro">DJI Phantom 4 Pro</option>
                    <option value="Parrot Anafi">Parrot Anafi</option>
                    <option value="DJI Matrice 300">DJI Matrice 300</option>
                    <option value="DJI FPV">DJI FPV</option>
                    <option value="–Ü–Ω—à–∏–π">–Ü–Ω—à–∏–π</option>
                </select>
            </div>

            <div class="form-group">
                <label for="droneSize">–†–æ–∑–º—ñ—Ä –¥—Ä–æ–Ω—É:</label>
                <select id="droneSize" name="droneSize" required>
                    <option value="">–û–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä –¥—Ä–æ–Ω—É...</option>
                    <option value="–ú—ñ–∫—Ä–æ">–ú—ñ–∫—Ä–æ (< 250–≥)</option>
                    <option value="–ú—ñ–Ω—ñ">–ú—ñ–Ω—ñ (250–≥ - 2–∫–≥)</option>
                    <option value="–ú–∞–ª–∏–π">–ú–∞–ª–∏–π (2–∫–≥ - 25–∫–≥)</option>
                    <option value="–°–µ—Ä–µ–¥–Ω—ñ–π">–°–µ—Ä–µ–¥–Ω—ñ–π (25–∫–≥ - 150–∫–≥)</option>
                    <option value="–í–µ–ª–∏–∫–∏–π">–í–µ–ª–∏–∫–∏–π (> 150–∫–≥)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="cameraType">–¢–∏–ø –∫–∞–º–µ—Ä–∏:</label>
                <select id="cameraType" name="cameraType" required>
                    <option value="">–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –∫–∞–º–µ—Ä–∏...</option>
                    <option value="HD (720p)">HD (720p)</option>
                    <option value="Full HD (1080p)">Full HD (1080p)</option>
                    <option value="4K">4K</option>
                    <option value="4K Pro">4K Pro</option>
                    <option value="–¢–µ–ø–ª–æ–≤—ñ–∑–æ—Ä">–¢–µ–ø–ª–æ–≤—ñ–∑–æ—Ä</option>
                    <option value="–ú—É–ª—å—Ç–∏—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∞">–ú—É–ª—å—Ç–∏—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω–∞</option>
                    <option value="–ù—ñ—á/–¥–µ–Ω—å">–ù—ñ—á/–¥–µ–Ω—å</option>
                    <option value="–ë–µ–∑ –∫–∞–º–µ—Ä–∏">–ë–µ–∑ –∫–∞–º–µ—Ä–∏</option>
                </select>
            </div>

            <!-- –ß–∞—Å—Ç–æ—Ç–∏: –¥–≤–∞ –æ–∫—Ä–µ–º—ñ –ø–æ–ª—è -->
            <div class="form-group">
                <label for="videoFrequency">–ß–∞—Å—Ç–æ—Ç–∞ –≤—ñ–¥–µ–æ:</label>
                <select id="videoFrequency" name="videoFrequency" required>
                    <option value="">–û–±–µ—Ä—ñ—Ç—å —á–∞—Å—Ç–æ—Ç—É –≤—ñ–¥–µ–æ...</option>
                    <option value="2.4 –ì–ì—Ü" title="–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —á–∞—Å—Ç–æ—Ç–∞ –≤—ñ–¥–µ–æ–ø–µ—Ä–µ–¥–∞—á—ñ">2.4 –ì–ì—Ü</option>
                    <option value="5.8 –ì–ì—Ü" title="–í–∏—Å–æ–∫–∞ —á–∞—Å—Ç–æ—Ç–∞ –∑ –º–µ–Ω—à–∏–º–∏ –ø–µ—Ä–µ—à–∫–æ–¥–∞–º–∏">5.8 –ì–ì—Ü</option>
                    <option value="1.2 –ì–ì—Ü" title="–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –≤—ñ–¥–µ–æ–ø–µ—Ä–µ–¥–∞—á–∞">1.2 –ì–ì—Ü</option>
                    <option value="900 –ú–ì—Ü" title="–î–∞–ª—å–Ω—è –≤—ñ–¥–µ–æ–ø–µ—Ä–µ–¥–∞—á–∞">900 –ú–ì—Ü</option>
                    <option value="–ê–Ω–∞–ª–æ–≥–æ–≤–∞ 5.8 –ì–ì—Ü" title="FPV –∞–Ω–∞–ª–æ–≥–æ–≤–∞ –ø–µ—Ä–µ–¥–∞—á–∞">–ê–Ω–∞–ª–æ–≥–æ–≤–∞ 5.8 –ì–ì—Ü</option>
                </select>
            </div>

            <div class="form-group">
                <label for="controlFrequency">–ß–∞—Å—Ç–æ—Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è:</label>
                <select id="controlFrequency" name="controlFrequency" required>
                    <option value="">–û–±–µ—Ä—ñ—Ç—å —á–∞—Å—Ç–æ—Ç—É –∫–µ—Ä—É–≤–∞–Ω–Ω—è...</option>
                    <option value="2.4 –ì–ì—Ü" title="–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è">2.4 –ì–ì—Ü</option>
                    <option value="433 –ú–ì—Ü" title="–î–∞–ª—å–Ω—å–æ–≥–æ —Ä–∞–¥—ñ—É—Å–∞ –¥—ñ—ó">433 –ú–ì—Ü</option>
                    <option value="868 –ú–ì—Ü" title="–Ñ–≤—Ä–æ–ø–µ–π—Å—å–∫–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç">868 –ú–ì—Ü</option>
                    <option value="915 –ú–ì—Ü" title="–ê–º–µ—Ä–∏–∫–∞–Ω—Å—å–∫–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç">915 –ú–ì—Ü</option>
                    <option value="Crossfire (868/915 –ú–ì—Ü)" title="–ù–∞–¥—ñ–π–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è">Crossfire (868/915 –ú–ì—Ü)</option>
                    <option value="ExpressLRS" title="–ù–∏–∑—å–∫–∞ –∑–∞—Ç—Ä–∏–º–∫–∞">ExpressLRS</option>
                </select>
            </div>

            <!-- –û–ø—Ç–æ–≤–æ–ª–æ–∫–æ–Ω–Ω–∏–π –∫–∞–±–µ–ª—å -->
            <div class="form-group">
                <label>
                    <input type="checkbox" id="fiberOptic" name="fiberOptic" onchange="toggleFiberLength()">
                    –û–ø—Ç–æ–≤–æ–ª–æ–∫–æ–Ω–Ω–∏–π –∫–∞–±–µ–ª—å
                </label>
            </div>

            <div class="form-group" id="fiberLengthGroup" style="display: none;">
                <label for="fiberLength">–î–æ–≤–∂–∏–Ω–∞ –∫–æ—Ç—É—à–∫–∏ (–º):</label>
                <input type="number" id="fiberLength" name="fiberLength" min="1" max="10000" step="1" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 500">
                <small style="color: #666; font-size: 0.85rem; margin-top: 4px; display: block;">
                    üí° –í–∫–∞–∂—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –≤ –º–µ—Ç—Ä–∞—Ö
                </small>
            </div>

            <div class="form-group">
                <label for="date">–î–∞—Ç–∞:</label>
                <input type="date" id="date" name="date" required title="–û–±–µ—Ä—ñ—Ç—å —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—é –¥–∞—Ç—É –∞–±–æ –¥–∞—Ç—É –∑ –º–∏–Ω—É–ª–æ–≥–æ">
                <small style="color: #666; font-size: 0.85rem; margin-top: 4px; display: block;">
                    üí° –î–æ–∑–≤–æ–ª–µ–Ω–æ: —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—è –¥–∞—Ç–∞ —Ç–∞ –º–∏–Ω—É–ª—ñ –¥–∞—Ç–∏
                </small>
            </div>

            <div class="form-group">
                <label for="time">–ß–∞—Å:</label>
                <input type="time" id="time" name="time" required>
            </div>

            <div class="form-group">
                <label for="missionType">–¢–∏–ø –º—ñ—Å—ñ—ó:</label>
                <select id="missionType" name="missionType">
                    <option value="">–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –º—ñ—Å—ñ—ó...</option>
                    <option value="–†–æ–∑–≤—ñ–¥–∫–∞">–†–æ–∑–≤—ñ–¥–∫–∞</option>
                    <option value="–ü–∞—Ç—Ä—É–ª—é–≤–∞–Ω–Ω—è">–ü–∞—Ç—Ä—É–ª—é–≤–∞–Ω–Ω—è</option>
                    <option value="–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥">–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥</option>
                    <option value="–ù–∞–≤—á–∞–Ω–Ω—è">–ù–∞–≤—á–∞–Ω–Ω—è</option>
                    <option value="–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è">–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è</option>
                    <option value="–Ü–Ω—à–µ">–Ü–Ω—à–µ</option>
                </select>
            </div>

            <div class="form-group">
                <label for="mission">–û–ø–∏—Å –º—ñ—Å—ñ—ó (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ):</label>
                <textarea id="mission" name="mission" rows="4" placeholder="–û–ø–∏—à—ñ—Ç—å –¥–µ—Ç–∞–ª—ñ –º—ñ—Å—ñ—ó –∞–±–æ –¥–æ–¥–∞—Ç–∫–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é..."></textarea>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç</button>
                <button type="reset" class="btn btn-secondary">–û—á–∏—Å—Ç–∏—Ç–∏ —Ñ–æ—Ä–º—É</button>
            </div>
        </form>

        <div id="reportOutput" class="report-output hidden">
            <h2>–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∑–≤—ñ—Ç</h2>
            <div id="reportContent" class="report-content"></div>
            <div class="report-actions">
                <button id="copyReport" class="btn btn-outline">–ö–æ–ø—ñ—é–≤–∞—Ç–∏ –∑–≤—ñ—Ç</button>
                <button id="downloadReport" class="btn btn-outline">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–≤—ñ—Ç</button>
                <button id="newReport" class="btn btn-primary">–ù–æ–≤–∏–π –∑–≤—ñ—Ç</button>
            </div>
        </div>
    </div>

    <script>
        // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å–ø—Ä–æ—â–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –±–µ–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è JSON
        const reportForm = document.getElementById('reportForm');
        const reportOutput = document.getElementById('reportOutput');
        const reportContent = document.getElementById('reportContent');
        const copyButton = document.getElementById('copyReport');
        const downloadButton = document.getElementById('downloadReport');
        const newReportButton = document.getElementById('newReport');

        // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ—ó –¥–∞—Ç–∏ —Ç–∞ —á–∞—Å—É
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const currentTime = now.toTimeString().slice(0, 5);
            
            document.getElementById('date').value = today;
            document.getElementById('time').value = currentTime;
        });

        // –û–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º–∏
        reportForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                subdivision: document.getElementById('subdivision').value,
                droneName: document.getElementById('droneName').value,
                droneSize: document.getElementById('droneSize').value,
                cameraType: document.getElementById('cameraType').value,
                videoFrequency: document.getElementById('videoFrequency').value,
                controlFrequency: document.getElementById('controlFrequency').value,
                fiberOptic: document.getElementById('fiberOptic').checked,
                fiberLength: document.getElementById('fiberLength').value,
                date: document.getElementById('date').value,
                time: document.getElementById('time').value,
                missionType: document.getElementById('missionType').value,
                mission: document.getElementById('mission').value
            };
            
            if (!validateForm(formData)) return;
            
            generateReport(formData);
            reportOutput.classList.remove('hidden');
            reportOutput.scrollIntoView({ behavior: 'smooth' });
        });

        function validateForm(data) {
            const errors = [];
            if (!data.subdivision) errors.push('–û–±–µ—Ä—ñ—Ç—å –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª');
            if (!data.droneName) errors.push('–û–±–µ—Ä—ñ—Ç—å –Ω–∞–∑–≤—É –¥—Ä–æ–Ω—É');
            if (!data.droneSize) errors.push('–û–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä –¥—Ä–æ–Ω—É');
            if (!data.cameraType) errors.push('–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –∫–∞–º–µ—Ä–∏');
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∞—Å—Ç–æ—Ç —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –ù–ï –æ–ø—Ç–æ–≤–æ–ª–æ–∫–æ–Ω–Ω–∏–π –∫–∞–±–µ–ª—å
            if (!data.fiberOptic) {
                if (!data.videoFrequency) errors.push('–û–±–µ—Ä—ñ—Ç—å —á–∞—Å—Ç–æ—Ç—É –≤—ñ–¥–µ–æ');
                if (!data.controlFrequency) errors.push('–û–±–µ—Ä—ñ—Ç—å —á–∞—Å—Ç–æ—Ç—É –∫–µ—Ä—É–≤–∞–Ω–Ω—è');
            }
            if (data.fiberOptic && !data.fiberLength) errors.push('–í–∫–∞–∂—ñ—Ç—å –¥–æ–≤–∂–∏–Ω—É –∫–æ—Ç—É—à–∫–∏');
            if (!data.date) errors.push('–í–∫–∞–∂—ñ—Ç—å –¥–∞—Ç—É');
            if (!data.time) errors.push('–í–∫–∞–∂—ñ—Ç—å —á–∞—Å');
            
            if (data.date) {
                const selectedDate = new Date(data.date);
                const today = new Date();
                // –î–æ–∑–≤–æ–ª—è—î–º–æ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—é –¥–∞—Ç—É, –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ —Ç—ñ–ª—å–∫–∏ –º–∞–π–±—É—Ç–Ω—ñ
                today.setHours(23, 59, 59, 999);
                if (selectedDate > today) {
                    errors.push('–î–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É');
                }
            }
            
            if (errors.length > 0) {
                alert('–ü–æ–º–∏–ª–∫–∞: ' + errors.join(', '));
                return false;
            }
            return true;
        }

        function generateReport(data) {
            const reportNumber = generateReportNumber();
            const formattedDate = formatDate(data.date);
            
            const reportHTML = `
                <h3>–ó–í–Ü–¢ –ü–†–û –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø –î–†–û–ù–£ ‚Ññ${reportNumber}</h3>
                
                <div class="report-item">
                    <span class="report-label">–ù–æ–º–µ—Ä –∑–≤—ñ—Ç—É:</span>
                    <span class="report-value">${reportNumber}</span>
                </div>
                <div class="report-item">
                    <span class="report-label">–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª:</span>
                    <span class="report-value">${data.subdivision}</span>
                </div>
                <div class="report-item">
                    <span class="report-label">–ù–∞–∑–≤–∞ –¥—Ä–æ–Ω—É:</span>
                    <span class="report-value">${data.droneName}</span>
                </div>
                <div class="report-item">
                    <span class="report-label">–†–æ–∑–º—ñ—Ä –¥—Ä–æ–Ω—É:</span>
                    <span class="report-value">${data.droneSize}</span>
                </div>
                <div class="report-item">
                    <span class="report-label">–¢–∏–ø –∫–∞–º–µ—Ä–∏:</span>
                    <span class="report-value">${data.cameraType}</span>
                </div>
                ${data.fiberOptic ? `
                <div class="report-item">
                    <span class="report-label">–¢–∏–ø –∑–≤'—è–∑–∫—É:</span>
                    <span class="report-value">–û–ø—Ç–æ–≤–æ–ª–æ–∫–æ–Ω–Ω–∏–π –∫–∞–±–µ–ª—å (${data.fiberLength} –º)</span>
                </div>
                ` : `
                <div class="report-item">
                    <span class="report-label">–ß–∞—Å—Ç–æ—Ç–∞ –≤—ñ–¥–µ–æ:</span>
                    <span class="report-value">${data.videoFrequency}</span>
                </div>
                <div class="report-item">
                    <span class="report-label">–ß–∞—Å—Ç–æ—Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è:</span>
                    <span class="report-value">${data.controlFrequency}</span>
                </div>
                `}
                <div class="report-item">
                    <span class="report-label">–î–∞—Ç–∞:</span>
                    <span class="report-value">${formattedDate}</span>
                </div>
                <div class="report-item">
                    <span class="report-label">–ß–∞—Å:</span>
                    <span class="report-value">${data.time}</span>
                </div>
                ${data.missionType ? `
                <div class="report-item">
                    <span class="report-label">–¢–∏–ø –º—ñ—Å—ñ—ó:</span>
                    <span class="report-value">${data.missionType}</span>
                </div>` : ''}
                ${data.mission ? `
                <div class="report-item">
                    <span class="report-label">–û–ø–∏—Å –º—ñ—Å—ñ—ó:</span>
                    <span class="report-value">${data.mission}</span>
                </div>` : ''}
                <div class="report-item">
                    <span class="report-label">–ß–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:</span>
                    <span class="report-value">${new Date().toLocaleString('uk-UA')}</span>
                </div>
            `;
            
            reportContent.innerHTML = reportHTML;
        }

        function generateReportNumber() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            
            return `DR-${year}${month}${day}-${hours}${minutes}${seconds}`;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('uk-UA', {
                year: 'numeric',
                month: 'long', 
                day: 'numeric'
            });
        }

        // –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        copyButton.addEventListener('click', function() {
            const text = getReportAsText();
            navigator.clipboard.writeText(text).then(() => {
                alert('–ó–≤—ñ—Ç —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É');
            }).catch(() => {
                alert('–ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑–≤—ñ—Ç');
            });
        });

        downloadButton.addEventListener('click', function() {
            const text = getReportAsText();
            const reportNumber = reportContent.querySelector('.report-value').textContent;
            const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', `–ó–≤—ñ—Ç_${reportNumber}.txt`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            alert('–ó–≤—ñ—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');
        });

        newReportButton.addEventListener('click', function() {
            reportForm.reset();
            reportOutput.classList.add('hidden');
            
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const currentTime = now.toTimeString().slice(0, 5);
            
            document.getElementById('date').value = today;
            document.getElementById('time').value = currentTime;
            
            reportForm.scrollIntoView({ behavior: 'smooth' });
        });

        function getReportAsText() {
            const reportItems = reportContent.querySelectorAll('.report-item');
            const reportTitle = reportContent.querySelector('h3').textContent;
            
            let text = reportTitle + '\n' + '='.repeat(reportTitle.length) + '\n\n';
            
            reportItems.forEach(item => {
                const label = item.querySelector('.report-label').textContent;
                const value = item.querySelector('.report-value').textContent;
                text += `${label} ${value}\n`;
            });
            
            return text;
        }

        // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–æ–∫–∞–∑—É/–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–ª—è –¥–æ–≤–∂–∏–Ω–∏ –∫–æ—Ç—É—à–∫–∏ —Ç–∞ —á–∞—Å—Ç–æ—Ç
        function toggleFiberLength() {
            const checkbox = document.getElementById('fiberOptic');
            const lengthGroup = document.getElementById('fiberLengthGroup');
            const lengthInput = document.getElementById('fiberLength');
            const videoFreqGroup = document.getElementById('videoFrequency').parentElement;
            const controlFreqGroup = document.getElementById('controlFrequency').parentElement;
            const videoFreqInput = document.getElementById('videoFrequency');
            const controlFreqInput = document.getElementById('controlFrequency');
            
            if (checkbox.checked) {
                // –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–ª–µ –¥–æ–≤–∂–∏–Ω–∏ –∫–æ—Ç—É—à–∫–∏
                lengthGroup.style.display = 'block';
                lengthInput.required = true;
                
                // –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –ø–æ–ª—è —á–∞—Å—Ç–æ—Ç
                videoFreqGroup.style.display = 'none';
                controlFreqGroup.style.display = 'none';
                videoFreqInput.required = false;
                controlFreqInput.required = false;
                videoFreqInput.value = '';
                controlFreqInput.value = '';
            } else {
                // –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –ø–æ–ª–µ –¥–æ–≤–∂–∏–Ω–∏ –∫–æ—Ç—É—à–∫–∏
                lengthGroup.style.display = 'none';
                lengthInput.required = false;
                lengthInput.value = '';
                
                // –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–ª—è —á–∞—Å—Ç–æ—Ç
                videoFreqGroup.style.display = 'block';
                controlFreqGroup.style.display = 'block';
                videoFreqInput.required = true;
                controlFreqInput.required = true;
            }
        }

        reportForm.addEventListener('reset', function() {
            setTimeout(() => {
                const now = new Date();
                const today = now.toISOString().split('T')[0];
                const currentTime = now.toTimeString().slice(0, 5);
                
                document.getElementById('date').value = today;
                document.getElementById('time').value = currentTime;
                
                // –°–∫–∏–Ω—É—Ç–∏ —á–µ–∫–±–æ–∫—Å —ñ –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ –ø–æ–ª–µ –¥–æ–≤–∂–∏–Ω–∏
                document.getElementById('fiberOptic').checked = false;
                toggleFiberLength();
            }, 10);
        });
    </script>
</body>
</html>