# üö® –®–í–ò–î–ö–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø: –¢–∞–±–ª–∏—Ü—è user_custom_options –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞

## –ü—Ä–æ–±–ª–µ–º–∞
```
Could not find the table 'public.user_custom_options' in the schema cache
```

## –†—ñ—à–µ–Ω–Ω—è (2 —Ö–≤–∏–ª–∏–Ω–∏)

### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏–π—Ç–µ Supabase SQL Editor
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://supabase.com
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ù–∞ –ª—ñ–≤—ñ–π –ø–∞–Ω–µ–ª—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **SQL Editor**

### –ö—Ä–æ–∫ 2: –í–∏–∫–æ–Ω–∞–π—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New Query**
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `supabase-auth-schema.sql` —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ
3. –°–∫–æ–ø—ñ—é–π—Ç–µ **–≤–µ—Å—å** –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É
4. –í—Å—Ç–∞–≤—Ç–µ –≤ SQL Editor
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Run** (–∞–±–æ `Ctrl+Enter`)

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å
–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Table Editor** —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ:
- ‚úÖ `user_profiles`
- ‚úÖ `user_custom_options`

### –ö—Ä–æ–∫ 4: –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É
1. –ü–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –¥–æ–¥–∞—Ç–∫—É
2. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É (F5)
3. –°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–≤—ñ—Ç –∑ –∫–∞—Å—Ç–æ–º–Ω–æ—é –æ–ø—Ü—ñ—î—é –∑–Ω–æ–≤—É

---

## –©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π —Å–∫—Ä–∏–ø—Ç?

–§–∞–π–ª `supabase-auth-schema.sql` —Å—Ç–≤–æ—Ä—é—î:
1. **–¢–∞–±–ª–∏—Ü—é `user_profiles`** - –ø—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
2. **–¢–∞–±–ª–∏—Ü—é `user_custom_options`** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –æ–ø—Ü—ñ—ó
3. **RLS –ø–æ–ª—ñ—Ç–∏–∫–∏** - –¥–ª—è –±–µ–∑–ø–µ–∫–∏ –¥–∞–Ω–∏—Ö
4. **–¢—Ä–∏–≥–µ—Ä–∏** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—ñ–≤

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –®–≤–∏–¥–∫–∞ –∫–æ–º–∞–Ω–¥–∞ SQL

–Ø–∫—â–æ –Ω–µ —Ö–æ—á–µ—Ç–µ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤–µ—Å—å —Ñ–∞–π–ª, –≤–∏–∫–æ–Ω–∞–π—Ç–µ —Ü–µ–π –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π SQL:

\`\`\`sql
-- –¢–∞–±–ª–∏—Ü—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –æ–ø—Ü—ñ–π
CREATE TABLE IF NOT EXISTS user_custom_options (
    id SERIAL PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
    option_type TEXT NOT NULL,
    value TEXT NOT NULL,
    label TEXT NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(user_id, option_type, value)
);

-- –Ü–Ω–¥–µ–∫—Å–∏
CREATE INDEX idx_user_custom_options_user_id ON user_custom_options(user_id);
CREATE INDEX idx_user_custom_options_type ON user_custom_options(option_type);

-- RLS
ALTER TABLE user_custom_options ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view their own custom options" ON user_custom_options
    FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own custom options" ON user_custom_options
    FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own custom options" ON user_custom_options
    FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own custom options" ON user_custom_options
    FOR DELETE USING (auth.uid() = user_id);
\`\`\`

---

## –ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è SQL

1. –û–Ω–æ–≤—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫
2. –í –∫–æ–Ω—Å–æ–ª—ñ –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è:
   ```
   ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –∫–∞—Å—Ç–æ–º–Ω—ñ –æ–ø—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: {}
   ```
   (–ø–æ—Ä–æ–∂–Ω—ñ–π –æ–±'—î–∫—Ç - —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)

3. –°—Ç–≤–æ—Ä—ñ—Ç—å –∑–≤—ñ—Ç –∑ "–Ü–Ω—à–∏–π" - –æ–ø—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è!

---

## –ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞?

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
- ‚úÖ –ß–∏ –≤–∏–∫–æ–Ω–∞–Ω–æ `supabase-schema.sql` (–æ—Å–Ω–æ–≤–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ)
- ‚úÖ –ß–∏ –≤–∏–∫–æ–Ω–∞–Ω–æ `supabase-data.sql` (–ø–æ—á–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ)
- ‚úÖ –ß–∏ –≤–∏–∫–æ–Ω–∞–Ω–æ `supabase-auth-schema.sql` (–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è)
- ‚úÖ –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–ª—é—á—ñ –≤ `supabase-config.js`
